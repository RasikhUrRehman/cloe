<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cleo - AI Job Application Assistant</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
        <div class="landing-container">
            <div class="landing-content">
                <h1 class="landing-title">Welcome to Cleo</h1>
                <p class="landing-subtitle">Your AI-powered Job Application Assistant</p>
                <p class="landing-description">
                    Cleo helps you through the entire job application process with personalized guidance,
                    intelligent conversation, and smart document processing.
                </p>
                <div class="landing-features">
                    <div class="feature">
                        <div class="feature-icon">ðŸ’¬</div>
                        <div class="feature-text">Interactive Conversations</div>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">ðŸ“„</div>
                        <div class="feature-text">Smart Document Analysis</div>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">âœ¨</div>
                        <div class="feature-text">Personalized Guidance</div>
                    </div>
                </div>
                
                <!-- Job Selection Section -->
                <div class="job-selection-container">
                    <h3 class="job-selection-title">Select a Job Position (Optional)</h3>
                    <div id="jobsLoadingIndicator" class="jobs-loading" style="display: none;">
                        <div class="loading-spinner"></div>
                        <span>Loading available jobs...</span>
                    </div>
                    <div id="jobSelectionDropdown" class="job-dropdown-container" style="display: none;">
                        <select id="jobSelect" class="job-select">
                            <option value="">General Application (No specific job)</option>
                        </select>
                        <button id="refreshJobsButton" class="refresh-jobs-button" title="Refresh Jobs">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/>
                            </svg>
                        </button>
                    </div>
                    <div id="selectedJobInfo" class="selected-job-info" style="display: none;"></div>
                    <div id="jobsError" class="error-message" style="display: none;"></div>
                </div>
                
                <button id="startButton" class="start-button">Start Conversation</button>
                <div id="landingError" class="error-message" style="display: none;"></div>
            </div>
        </div>
    </div>

    <!-- Chat Interface -->
    <div id="chatInterface" class="chat-interface" style="display: none;">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>Session Status</h2>
                <div class="session-id">
                    <small>Session ID:</small>
                    <div id="sessionIdDisplay" class="session-id-text"></div>
                </div>
            </div>

            <div class="status-container">
                <div class="status-section">
                    <h3>Current Stage</h3>
                    <div id="currentStage" class="stage-badge">Initializing...</div>
                </div>
                
                <!-- Job Information Section -->
                <div class="status-section" id="jobInfoSection" style="display: none;">
                    <h3>Job Position</h3>
                    <div id="jobInfo" class="job-info-display"></div>
                </div>

                <div class="status-section">
                    <h3>Progress</h3>
                    <div class="progress-list">
                        <div class="progress-item" id="engagementProgress">
                            <div class="progress-icon">â—‹</div>
                            <div class="progress-label">Engagement</div>
                        </div>
                        <div class="progress-item" id="qualificationProgress">
                            <div class="progress-icon">â—‹</div>
                            <div class="progress-label">Qualification</div>
                        </div>
                        <div class="progress-item" id="applicationProgress">
                            <div class="progress-icon">â—‹</div>
                            <div class="progress-label">Application</div>
                        </div>
                        <div class="progress-item" id="verificationProgress">
                            <div class="progress-icon">â—‹</div>
                            <div class="progress-label">Verification</div>
                        </div>
                    </div>
                </div>

                <div class="status-section">
                    <h3>API Status</h3>
                    <div id="apiStatus" class="api-status">
                        <div class="status-indicator"></div>
                        <span>Checking...</span>
                    </div>
                </div>
            </div>

            <div class="sidebar-actions">
                <button id="newSessionButton" class="action-button secondary">New Session</button>
                <button id="resetButton" class="action-button secondary">Reset Chat</button>
            </div>
        </div>

        <!-- Chat Area -->
        <div class="chat-area">
            <div class="chat-header">
                <h1>Cleo Assistant</h1>
                <p>AI-powered Job Application Guide</p>
            </div>

            <div id="chatMessages" class="chat-messages">
                <!-- Messages will be appended here -->
            </div>

            <div class="chat-input-container">
                <div id="typingIndicator" class="typing-indicator" style="display: none;">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <form id="chatForm" class="chat-form">
                    <input
                        type="text"
                        id="messageInput"
                        class="message-input"
                        placeholder="Type your message..."
                        autocomplete="off"
                        required
                    />
                    <button type="submit" id="sendButton" class="send-button">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                        </svg>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
